# Batch Greek Words Test - User Instructions

## ⚠️ **IMPORTANT: Wait for v2.6.10 Deployment**

**Current Status**: v2.6.10 is deploying now (ETA: ~2-3 minutes)

**Why you need v2.6.10**: The document parser endpoint had a URL mismatch bug:
- Backend: `/api/document/parse` 
- Frontend was calling: `/api/parser/parse-document` ❌

This caused the **404 error** you saw. v2.6.10 fixes this.

**Before testing**:
1. Wait for deployment message in terminal
2. Hard refresh browser (Ctrl+Shift+R)
3. Verify version badge shows `v2.6.10`

---

## 🎯 Test Objective
Test the complete batch workflow with Greek words: Upload document → Select words → Generate AI flashcards → Verify all cards created with images, audio, definitions, etymology, and cognates.

## 📋 Prerequisites
- ✅ You already have a Greek words document (`.docx` or `.txt`)
- ✅ App is deployed and accessible at https://learn.rentyourcio.com
- ✅ You're logged in with your Google account

## 🚀 Test Steps

### **Step 1: Upload Document** (30 seconds)
1. Open app: https://learn.rentyourcio.com
2. Click **"Import"** tab (📁 icon)
3. Click **"Upload Document"** section
4. Select your Greek words document file
5. Click **Upload** button
6. **WAIT:** Document will be parsed (1-3 seconds for 50 words)
7. **VERIFY:** You see a table with checkboxes and Greek words in 2 columns

### **Step 2: Select Words** (1 minute)
1. **Scroll through the word list** - verify all words parsed correctly
2. **Check the "Select All" checkbox** at the top (or manually select specific words)
3. **VERIFY:** Count shows "X words selected" at the bottom
4. **TIP:** For first test, try 5 words only to verify workflow (~1 minute generation)
5. **TIP:** For full test, select all 50 words (~5-8 minutes generation)

### **Step 3: Generate Flashcards** (5-8 minutes for 50 words)
1. Scroll to bottom of word list
2. Click **"Generate Flashcards with AI"** button (purple/indigo button)
3. **IMPORTANT:** Do NOT close browser or navigate away during generation
4. **WATCH:** Progress bar will show completion percentage
5. **WATCH:** Status text will show "Generating flashcards... (X/Y complete)"
6. **WAIT:** Full 50 words takes 5-8 minutes (10 seconds per word average)

### **Step 4: Review Results** (2 minutes)
When generation completes, you'll see a results screen:
1. **SUCCESS COUNT:** "✅ 48 of 50 flashcards generated successfully" (example)
2. **FAILED COUNT:** "❌ 2 failed" (if any - this is normal, content policy violations)
3. **WORD LIST:** Each word shows ✅ (success) or ❌ (failed with error message)
4. **Review failed words** - typically due to:
   - DALL-E content policy (e.g., violent/sensitive words)
   - OpenAI rate limits (rare)
   - Network timeout (rare)

### **Step 5: Browse Generated Cards** (3 minutes)
1. Click **"Browse"** tab (📋 icon)
2. **VERIFY:** All successful flashcards appear in list
3. **Check sort order:** Should show "Date Modified (Newest)" - newest cards at top
4. **Click on a card** to view in study mode
5. **VERIFY each card has:**
   - ✅ Word/phrase in Greek
   - ✅ Definition (in English)
   - ✅ Etymology (origin explanation)
   - ✅ Cognates (related words in English)
   - ✅ Image (generated by DALL-E)
   - ✅ Audio button (🔊) - click to hear pronunciation

### **Step 6: Test Study Mode** (2 minutes)
1. Click **"Study"** tab (📚 icon)
2. **VERIFY:** Cards flip between word and definition
3. **VERIFY:** Click audio button to hear pronunciation
4. **VERIFY:** Navigate through cards with Previous/Next buttons
5. **VERIFY:** Image displays correctly on each card

## ✅ Success Criteria

**PASS** if:
- ✅ 90% or more words generated successfully (45+ out of 50)
- ✅ All successful cards have complete data (definition, etymology, cognates, image, audio)
- ✅ Cards appear in Browse list immediately after generation
- ✅ Cards display correctly in Study mode
- ✅ Audio plays successfully
- ✅ Images display (not broken/404)

**ACCEPTABLE** if:
- ⚠️ 2-5 words fail due to DALL-E content policy (common for certain words)
- ⚠️ Audio takes 30-60 seconds to generate after card creation (background process)

**FAIL** if:
- ❌ Cards missing definition, etymology, or cognates
- ❌ More than 10% of words fail (unless clear content policy issue)
- ❌ Cards don't appear in Browse list after generation
- ❌ Images consistently 404 (broken)
- ❌ Browser crashes or becomes unresponsive

## 🐛 Known Issues (Expected Behavior)

1. **Audio Delay:** Audio generates asynchronously after card creation. You may need to wait 30-60 seconds after batch completes before audio is available. Refresh the page if audio button doesn't appear.

2. **Content Policy Failures:** DALL-E rejects certain words (violent, sexual, political). This is normal and expected for 1-3 words out of 50. Failed words will show error message.

3. **No Real-Time Progress:** Progress bar updates every 5-10 seconds, not instantly. Don't worry if it seems stuck - it's still processing.

4. **No Cancel Button:** Once started, batch cannot be cancelled. Keep browser open until complete.

## 📊 Performance Expectations

| Words | Expected Time | What's Happening |
|-------|---------------|------------------|
| 5 words | ~1 minute | Quick smoke test |
| 10 words | ~2 minutes | Moderate test |
| 50 words | 5-8 minutes | Full scale test |

**Per-word breakdown:**
- OpenAI API (definition, etymology, cognates): 2-4 seconds
- DALL-E image generation: 3-5 seconds
- Database save: 0.1 seconds
- **Total:** ~5-10 seconds per word

## 📝 Report Results

After testing, please report:
1. **Total words uploaded:** ___
2. **Words selected for generation:** ___
3. **Successful generations:** ___
4. **Failed generations:** ___ (include error messages)
5. **Total time taken:** ___ minutes
6. **Cards with missing data:** ___ (which fields?)
7. **Audio working:** Yes / No / Partial
8. **Images working:** Yes / No / Some broken
9. **Overall experience:** Pass / Acceptable / Fail

## 🔄 Retry Failed Words

If words fail during batch generation:
1. Go to **"Add Card"** tab
2. Enter the failed word manually
3. Click **"Generate with AI"** button (single card generation)
4. This generates one card at a time with full monitoring

---

**Good luck with testing!** 🎉 This should validate the complete batch workflow for your Greek vocabulary use case.
